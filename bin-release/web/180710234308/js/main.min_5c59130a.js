function hitTestPosition(e,t){var n=e.getBounds(),o=t.getBounds();return n.x=e.x,n.y=e.y,o.x=t.x,o.y=t.y,n.intersects(o)}var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);n.prototype=t.prototype,e.prototype=new n},__awaiter=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(s,i){function r(e){try{p(o.next(e))}catch(t){i(t)}}function a(e){try{p(o["throw"](e))}catch(t){i(t)}}function p(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(r,a)}p((o=o.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function n(e){return function(t){return o([e,t])}}function o(n){if(s)throw new TypeError("Generator is already executing.");for(;p;)try{if(s=1,i&&(r=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(r=r.call(i,n[1])).done)return r;switch(i=0,r&&(n=[0,r.value]),n[0]){case 0:case 1:r=n;break;case 4:return p.label++,{value:n[1],done:!1};case 5:p.label++,i=n[1],n=[0];continue;case 7:n=p.ops.pop(),p.trys.pop();continue;default:if(r=p.trys,!(r=r.length>0&&r[r.length-1])&&(6===n[0]||2===n[0])){p=0;continue}if(3===n[0]&&(!r||n[1]>r[0]&&n[1]<r[3])){p.label=n[1];break}if(6===n[0]&&p.label<r[1]){p.label=r[1],r=n;break}if(r&&p.label<r[2]){p.label=r[2],p.ops.push(n);break}r[2]&&p.ops.pop(),p.trys.pop();continue}n=t.call(e,p)}catch(o){n=[6,o],i=0}finally{s=r=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var s,i,r,a,p={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},GameUser=function(){function e(){this.id=0,this.name="",this.avatar="http://pic.vszone.cn/upload/avatar/1464079970.png",this.token="",this.pValue=0,this.isOwner=!1}return e}();__reflect(GameUser.prototype,"GameUser");var BaseView=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.onEnter=function(e){},t.prototype.onExit=function(){},t.prototype.onResume=function(){},t.prototype.onPause=function(){},t}(eui.Component);__reflect(BaseView.prototype,"BaseView",["eui.UIComponent","egret.DisplayObject"]);var uiExit=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(BaseView);__reflect(uiExit.prototype,"uiExit");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,n,o){function s(e){t.call(o,e)}function i(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),n.call(o))}var r=this;"undefined"!=typeof generateEUI?egret.callLater(function(){t.call(o,generateEUI)},this):"undefined"!=typeof generateEUI2?RES.getResByUrl("resource/gameEui.json",function(e,n){window.JSONParseClass.setData(e),s(e),egret.callLater(function(){t.call(o,generateEUI2)},r)},this,RES.ResourceItem.TYPE_JSON):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,i,null),RES.getResByUrl(e,s,this,RES.ResourceItem.TYPE_TEXT))},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var GameData=function(){function e(){}return e.configEnvir=function(t,n){e.CHANNEL=t,e.DEFAULT_ENV=n?e.ENVIRONMENT.dev:e.ENVIRONMENT.pro,"MatchVS"===t&&(e.gameID=201150,e.appkey="0db8550d9bd345da82b852564f59d2e6",e.secretKey="15bf7e1bc2454d21b071d67f568e257c"),"MatchVS-Test"===t&&(e.gameID=201170,e.appkey="a5b937f29a4c480bb6946093105c0565",e.secretKey="a8c5c84afde44136a5eea6f0ac09887c"),"MatchVS-Test1"===t&&(e.gameID=201078,e.appkey="938e1ee0db444a079fe0695598677ba0",e.secretKey="9b11e0eca09141a1961d49d6b6028075")},e.getBindOpenIDAddr=function(e,t){if("MatchVS"==e||"Matchvs"==e){if("release"==t)return"http://vsuser.matchvs.com/wc6/thirdBind.do?";if("alpha"==t)return"http://alphavsuser.matchvs.com/wc6/thirdBind.do?"}else if("MatchVS-Test1"==e){if("release"==t)return"http://zwuser.matchvs.com/wc6/thirdBind.do?";if("alpha"==t)return"http://alphazwuser.matchvs.com/wc6/thirdBind.do?"}},e.getSign=function(t){var n=e.appkey+"&"+t+"&"+e.secretKey,o=(new MD5).hex_md5(n);return o},e.CHANNEL="MatchVS",e.DEFAULT_ENV="alpha",e.ENVIRONMENT={dev:"alpha",pro:"release"},e.gameID=201331,e.appkey="17ffc6d5f1e14a04b99c4bf17addc411",e.secretKey="4cc0d042cd5547e98860728bb3207650",e.gameUser=new GameUser,e.playerUserIds=[],e.matchType=0,e.randomMatch=1,e.specialMatch=2,e.tagsMatch=3,e.maxPlayerNum=3,e.isRoomOwner=!1,e.gameStartEvent="gameStart",e.playerPositionEvent="playerPosition",e.reconnectStartEvent="gameReconnectStart",e.newStarEvent="newStar",e.changeStarEvent="changeStar",e.gameReadyEvent="gameReady",e.reconnectReadyEvent="gamaeReconnectReady",e.events={},e.syncFrame=!1,e.isGameOver=!1,e.starPositionX=0,e.starPositionY=0,e.frameRate=5,e.defaultHeight=400,e.roomID="",e.intervalList=[],e.number1="",e.number2="",e.number3="",e.playerTime=180,e.roomPropertyType={mapA:"mapA",mapB:"mapB"},e.roomPropertyValue="mapA",e}();__reflect(GameData.prototype,"GameData");var GameManager=function(){function e(){}return e}();__reflect(GameManager.prototype,"GameManager");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,n){function o(o){t.call(n,o,e)}if(RES.hasRes(e)){var s=RES.getRes(e);s?o(s):RES.getResAsync(e,o,this)}else RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var mvs;!function(e){var t=function(){function t(){this._engine=null,this._response=null,this._engine=new MatchvsEngine}return Object.defineProperty(t,"getInstance",{get:function(){return null==t._instance&&(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.init=function(t,n,o){this._response=e.MsResponse.getInstance.getResponse();var s=this._engine.init(e.MsResponse.getInstance.getResponse(),t,n,o);return 200!==s?(console.info("[MsEngine init failed] resCode:",s),s):(console.info("[MsEngine init seccess] resCode:",s),s)},t.prototype.login=function(e,t,n,o,s){var i=this._engine.login(e,t,n,1,o,s,"eglejjddg",0);return console.info("[MsEngine login] resCode:",i),i},t.prototype.registerUser=function(){var e=this._engine.registerUser();return 0!==e?(console.error("[MsEngine registerUser failed] resCode:",e),e):(console.info("[MsEngine registerUser seccess] resCode:",e),e)},t.prototype.joinRandomRoom=function(e,t){var n=this._engine.joinRandomRoom(e,t);return console.info("[MsEngine joinRandomRoom ] resCode:",n),n},t.prototype.joinRoomWithProperties=function(e,t){var n=this._engine.joinRoomWithProperties(e,t);return console.info("[MsEngine joinRandomRoom ] resCode:",n),n},t.prototype.joinRoom=function(e,t){var n=this._engine.joinRoom(e,t);return console.info("[MsEngine joinRoom ] resCode:",n),n},t.prototype.createRoom=function(e,t){var n=this._engine.createRoom(e,t);return console.info("[MsEngine createRoom ] resCode:",n,JSON.stringify(e),t),n},t.prototype.joinOver=function(e){var t=this._engine.joinOver(e);return console.info("[MsEngine joinOver ] resCode:",t),t},t.prototype.joinOpen=function(e){var t=this._engine.joinOpen(e);return console.info("[MsEngine joinOpen ] resCode:",t),t},t.prototype.leaveRoom=function(e){var t=this._engine.leaveRoom(e);return console.info("[MsEngine leaveRoom ] resCode:",t),t},t.prototype.sendEvent=function(e){var t=this._engine.sendEvent(e);return t},t.prototype.sendEventEx=function(e,t,n,o){var s=this._engine.sendEventEx(e,t,n,o);return s},t.prototype.sendFrameEvent=function(e){var t=this._engine.sendFrameEvent(e);return console.info("[MsEngine sendFrameEvent ] resCode:",t),t},t.prototype.setFrameSync=function(e){var t=this._engine.setFrameSync(e);return console.info("[MsEngine setFrameSync ] resCode:",t),t},t.prototype.logOut=function(){var e=this._engine.logout("退出登录");return console.info("[MsEngine setFrameSync ] resCode:",e),e},t.prototype.kickPlayer=function(e,t){var n=this._engine.kickPlayer(e,t);return console.info("[MsEngine kickPlayer ] resCode:",n),n},t.prototype.getRoomDetail=function(e){var t=this._engine.getRoomDetail(e);return console.info("[MsEngine getRoomDetail ] resCode:",t),t},t.prototype.getRoomList=function(e){var t=this._engine.getRoomList(e);return console.info("[MsEngine getRoomList ] resCode:",t),t},t.prototype.getRoomListEx=function(e){var t=this._engine.getRoomListEx(e);return console.info("[MsEngine getRoomListEx ] resCode:",t),t},t.prototype.setRoomProperty=function(e,t){var n=this._engine.setRoomProperty(e,t);return console.info("[MsEngine setRoomProperty ] resCode:",n),n},t.prototype.reconnect=function(){var e=this._engine.reconnect();return console.info("[MsEngine reconnect ]",e),e},t._instance=null,t}();e.MsEngine=t,__reflect(t.prototype,"mvs.MsEngine")}(mvs||(mvs={}));var mvs;!function(e){var t=function(){function e(){}return e.EVENT_INIT_RSP="MATCHVS_INIT_EVENT",e.EVENT_REGISTERUSER_RSP="MATCHVS_REGISTERUSER_EVENT",e.EVENT_LOGIN_RSP="MATCHVS_LOGIN_EVENT",e.EVENT_JOINROOM_RSP="MATCHVS_JOINROOM_EVENT",e.EVENT_JOINROOM_NTFY="MATCHVS_JOINROOM_NOTIFY_EVENT",e.EVENT_CREATEROOM_RSP="MATCHVS_CREATEROOM_RSP_EVENT",e.EVENT_SENDEVENT_RSP="MATCHVS_INIT_EVENT",e.EVENT_SENDEVENT_NTFY="MATCHVS_SENDEVENT_NOTIFY_EVENT",e.EVENT_GAMESERVER_NTFY="MATCHVS_GAMESERVER_NOTIFY_EVENT",e.EVENT_LEAVEROOM_RSP="MATCHVS_LEAVEROOM_RSP_EVENT",e.EVENT_LEAVEROOM_NTFY="MATCHVS_LEAVEROOM_NTFY_EVENT",e.EVENT_JOINOVER_RSP="MATCHVS_JOINOVER_RSP_EVENT",e.EVENT_JOINOVER_NTFY="MATCHVS_LEAVEROOM_EVENT",e.EVENT_JOINOPEN_RSP="MATCHVS_JOINOPEN_RSP_EVENT",e.EVENT_JOINOPEN_NTFY="MATCHVS_JOINOPEN_NTFY_EVENT",e.EVENT_NETWORKSTATE_NTFY="MATCHVS_NETWORKSTATE_NTFY",e.EVENT_SENDFRAME_RSP="MATCHVS_SENDFRAME_RSP_EVENT",e.EVENT_SETFRAMESYNC_RSP="MATCHVS_SETFRAMESYNC_RSP_EVENT",e.EVENT_FRAMEUPDATE="MATCHVS_FRAMEUPDATE_EVENT",e.EVENT_ERROR_RSP="MATCHVS_ERROR_RSP_EVENT",e.EVENT_LOGOUT_RSP="MATCHVS_LOGOUT_RSP_EVENT",e.EVENT_SETROOMPROPERTY_RSP="MATCHVS_SETROOMPROPERTY_RSP_EVENT",e.EVENT_SETROOMPROPERTY_NTFY="MATCHVS_SETROOMPROPERTY_NTFY_EVENT",e.EVENT_KICKPLAYER_RSP="MATCHVS_KICKPLAYER_RSP_EVENT",e.EVENT_KICKPLAYER_NTFY="MATCHVS_KICKPLAYER_NTFY_EVENT",e.EVENT_GETROOMLIST_RSP="MATCHVS_GETROOMLIST_RSP_EVENT",e.EVENT_GETROOMLIST_EX_RSP="MATCHVS_GETROOMLIST_EX_RSP_EVENT",e.EVENT_GETROOMDETAIL_RSP="MATCHVS_GETROOMDETAIL_RSP_EVENT",e.EVENT_RECONNECT_RSP="MATCHVS_RECONNECT_RSP_EVENT",e}();e.MsEvent=t,__reflect(t.prototype,"mvs.MsEvent")}(mvs||(mvs={}));var mvs;!function(e){var t=function(t){function n(){var e=t.call(this)||this;return e._response=null,e.registResponseCall(),e}return __extends(n,t),Object.defineProperty(n,"getInstance",{get:function(){return null==n._instance&&(n._instance=new n),n._instance},enumerable:!0,configurable:!0}),n.release=function(){n._instance._response=null,n._instance=null},n.prototype.getResponse=function(){return null==this._response&&this.registResponseCall(),this._response},n.prototype.registResponseCall=function(){this._response=new MatchvsResponse,this._response.initResponse=this.initResponse.bind(this),this._response.registerUserResponse=this.registerUserResponse.bind(this),this._response.loginResponse=this.loginResponse.bind(this),this._response.joinRoomResponse=this.joinRoomResponse.bind(this),this._response.joinRoomNotify=this.joinRoomNotify.bind(this),this._response.createRoomResponse=this.createRoomResponse.bind(this),this._response.sendEventResponse=this.sendEventResponse.bind(this),this._response.sendEventNotify=this.sendEventNotify.bind(this),this._response.gameServerNotify=this.gameServerNotify.bind(this),this._response.joinOverResponse=this.joinOverResponse.bind(this),this._response.joinOverNotify=this.joinOverNotify.bind(this),this._response.leaveRoomResponse=this.leaveRoomResponse.bind(this),this._response.leaveRoomNotify=this.leaveRoomNotify.bind(this),this._response.networkStateNotify=this.networkStateNotify.bind(this),this._response.setFrameSyncResponse=this.setFrameSyncResponse.bind(this),this._response.frameUpdate=this.frameUpdate.bind(this),this._response.errorResponse=this.errorResponse.bind(this),this._response.logoutResponse=this.logOutResponse.bind(this),this._response.joinOpenResponse=this.joinOpenResponse.bind(this),this._response.joinOpenNotify=this.joinOpenNotify.bind(this),this._response.kickPlayerNotify=this.kickPlayerNotify.bind(this),this._response.kickPlayerResponse=this.kickPlayerResponse.bind(this),this._response.setRoomPropertyNotify=this.setRoomPropertyNotify.bind(this),this._response.setRoomPropertyResponse=this.setRoomPropertyResponse.bind(this),this._response.getRoomDetailResponse=this.getRoomDetailResponse.bind(this),this._response.getRoomListExResponse=this.getRoomListExResponse.bind(this),this._response.getRoomListResponse=this.getRoomListResponse.bind(this),this._response.reconnectResponse=this.reconnectResponse.bind(this)},n.prototype.initResponse=function(t){console.info("initResponse status：",t),this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_INIT_RSP,!1,!1,{status:t}))},n.prototype.registerUserResponse=function(t){console.info("registerUserResponse userInfo ",JSON.stringify(t)),this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_REGISTERUSER_RSP,!1,!1,t))},n.prototype.loginResponse=function(t){console.info("[loginResponse] "+JSON.stringify(t)),this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_LOGIN_RSP,!1,!1,t))},n.prototype.joinRoomResponse=function(t,n,o){if(200==t){console.info("[joinRoomResponse] status：",t);var s=[];return n.forEach(function(e){var t=new MsRoomUserInfo(e.userId,e.userProfile);s.push(t)}),void this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINROOM_RSP,!1,!1,{status:t,userList:s,roomInfo:o}))}console.error("[joinRoomResponse error:]",t)},n.prototype.joinRoomNotify=function(t){console.info("[joinRoomNotify] "+JSON.stringify(t));var n={userId:t.userId,userProfile:t.userProfile};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINROOM_NTFY,!1,!1,n))},n.prototype.createRoomResponse=function(t){console.info("[sendEventResponse]"+JSON.stringify(t));var n={status:t.status,roomID:t.roomID,owner:t.owner};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_CREATEROOM_RSP,!1,!1,n))},n.prototype.sendEventResponse=function(t){var n={status:t.status,sequence:t.sequence};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SENDEVENT_RSP,!1,!1,n))},n.prototype.sendEventNotify=function(t){var n={srcUserId:t.srcUserId,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SENDEVENT_NTFY,!1,!1,n))},n.prototype.gameServerNotify=function(t){console.info("[gameServerNotify] "+JSON.stringify(t));var n={srcUserId:t.srcUserId,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GAMESERVER_NTFY,!1,!1,n))},n.prototype.joinOverResponse=function(t){console.info("[joinOverResponse] "+JSON.stringify(t));var n={status:t.status,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINOVER_RSP,!1,!1,n))},n.prototype.joinOverNotify=function(t){console.info("[joinOverNotify] "+JSON.stringify(t));var n={roomID:t.roomID,userID:t.srcUserID,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINOVER_NTFY,!1,!1,n))},n.prototype.leaveRoomResponse=function(t){console.info("[leaveRoomResponse] "+JSON.stringify(t));var n={roomID:t.roomID,status:t.status,userId:t.userId,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_LEAVEROOM_RSP,!1,!1,n))},n.prototype.leaveRoomNotify=function(t){console.info("[leaveRoomNotify] "+JSON.stringify(t));var n={roomID:t.roomID,userId:t.userId,owner:t.owner,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_LEAVEROOM_NTFY,!1,!1,n))},n.prototype.networkStateNotify=function(t){console.info("[networkStateNotify] "+JSON.stringify(t));var n={roomID:t.roomID,userID:t.userID,owner:t.owner,state:t.state};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_NETWORKSTATE_NTFY,!1,!1,n))},n.prototype.setFrameSyncResponse=function(t){var n={mStatus:t.mStatus};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SETFRAMESYNC_RSP,!1,!1,n))},n.prototype.frameUpdate=function(t){var n={frameIndex:t.frameIndex,frameItems:t.frameItems,frameWaitCount:t.frameWaitCount};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_FRAMEUPDATE,!1,!1,n))},n.prototype.errorResponse=function(t,n){console.info("[setFrameSyncResponse] errCode:"+t+" errMsg:"+n);var o={errCode:t,errMsg:n};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_ERROR_RSP,!1,!1,o))},n.prototype.logOutResponse=function(t){console.info("[logOutResponse] status:",t);var n={status:t};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_LOGOUT_RSP,!1,!1,n))},n.prototype.joinOpenResponse=function(t){console.info("[joinOpenResponse] info:",JSON.stringify(t));var n={status:t.status,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINOPEN_RSP,!1,!1,n))},n.prototype.joinOpenNotify=function(t){console.info("[joinOpenResponse] info:",JSON.stringify(t));var n={roomID:t.roomID,userID:t.userID,cpProto:t.cpProto};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_JOINOPEN_RSP,!1,!1,n))},n.prototype.kickPlayerNotify=function(t){console.info("[kickPlayerNotify] info:",JSON.stringify(t));var n={cpProto:t.cpProto,owner:t.owner,srcUserId:t.srcUserId,userId:t.userId};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_KICKPLAYER_NTFY,!1,!1,n))},n.prototype.kickPlayerResponse=function(t){console.info("[kickPlayerResponse] info:",JSON.stringify(t));var n={owner:t.owner,userID:t.userID,status:t.status};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_KICKPLAYER_RSP,!1,!1,n))},n.prototype.setRoomPropertyNotify=function(t){console.info("[setRoomPropertyNotify] info:",JSON.stringify(t));var n={roomID:t.roomID,userID:t.userID,roomProperty:t.roomProperty};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SETROOMPROPERTY_NTFY,!1,!1,n))},n.prototype.setRoomPropertyResponse=function(t){console.info("[setRoomPropertyResponse] info:",JSON.stringify(t));var n={roomID:t.roomID,userID:t.userID,roomProperty:t.roomProperty,status:t.status};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_SETROOMPROPERTY_RSP,!1,!1,n))},n.prototype.getRoomDetailResponse=function(t){console.info("[getRoomDetailResponse] info:",JSON.stringify(t));var n={canWatch:t.canWatch,createFlag:t.createFlag,maxPlayer:t.maxPlayer,mode:t.mode,owner:t.owner,roomProperty:t.roomProperty,state:t.state,status:t.status,userInfos:t.userInfos};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GETROOMDETAIL_RSP,!1,!1,n))},n.prototype.getRoomListExResponse=function(t){console.info("[getRoomListExResponse] info:",JSON.stringify(t));var n={roomAttrs:t.roomAttrs,status:t.status,total:t.total};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GETROOMLIST_EX_RSP,!1,!1,n))},n.prototype.getRoomListResponse=function(t,n){console.info("[getRoomListResponse] info:",t,JSON.stringify(n));var o={status:t,roomInfos:n};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_GETROOMLIST_RSP,!1,!1,o))},n.prototype.reconnectResponse=function(t,n,o){console.info("[reconnectResponse] info:",t);var s={status:t,roomUserInfoList:n,roomInfo:o};this.dispatchEvent(new egret.Event(e.MsEvent.EVENT_RECONNECT_RSP,!1,!1,s))},n._instance=null,n}(egret.EventDispatcher);e.MsResponse=t,__reflect(t.prototype,"mvs.MsResponse")}(mvs||(mvs={}));var BlueBird=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.addToStage=function(){this.fly.play()},t}(eui.Component);__reflect(BlueBird.prototype,"BlueBird",["eui.UIComponent","egret.DisplayObject"]);var CommonBullet=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){var e=this;setInterval(function(){for(var t=0;t<e.birds.numChildren;t++){var n=e.birds.getChildAt(t);hitTestPosition(e,n)&&(e.visible=!1,n.visible=!1)}},200)},t}(eui.Component);__reflect(CommonBullet.prototype,"CommonBullet",["eui.UIComponent","egret.DisplayObject"]);var PlusBullet=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(eui.Component);__reflect(PlusBullet.prototype,"PlusBullet",["eui.UIComponent","egret.DisplayObject"]);var uiCreateRoom=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(BaseView);__reflect(uiCreateRoom.prototype,"uiCreateRoom");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var uiGame=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.addToStage=function(){this.rotationController.addEventListener(egret.TouchEvent.CHANGE,this.onSlideChange,this),this.commonGun.addEventListener(egret.TouchEvent.TOUCH_TAP,this.commonGunClick,this),this.plusGun.addEventListener(egret.TouchEvent.TOUCH_TAP,this.plusGunClick,this)},t.prototype.init=function(){var e=this;setInterval(function(){var t,n=Math.floor(3*Math.random());switch(n){case 0:t=new yeNiao;break;case 1:t=new yazi;break;case 2:t=new BlueBird}t.x=0,t.y=0,e.birds.addChild(t);var o=setInterval(function(){t.x+=3},20);setTimeout(function(){e.birds.removeChild(t),t=null,clearInterval(o)},2e4)},5e3)},t.prototype.onSlideChange=function(){var e=this.rotationController.value,t=6*e-30;this.playerGun.rotation=t},t.prototype.commonGunClick=function(){var e=new CommonBullet;e.birds=this.birds;var t=this.commonGun.globalToLocal(this.playerCommonBulletPos.x,this.playerCommonBulletPos.y);e.x=t.x,e.y=t.y,this.addChild(e);var n=setInterval(function(){e.y-=1},5);setTimeout(function(){clearInterval(n),e=null},5e3)},t.prototype.plusGunClick=function(){var e=this,t=new PlusBullet;t.x=this.playerBulletPos.x,t.y=this.playerBulletPos.y,this.playerGun.addChild(t);var n=setInterval(function(){t.y-=3},5);setTimeout(function(){clearInterval(n),e.removeChild(t),t=null},5e3)},t}(BaseView);__reflect(uiGame.prototype,"uiGame");var uiLobby=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t.addEventListener(egret.Event.LEAVE_STAGE,t.leaveStage,t),t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.addToStage=function(){this.username.text=GameData.gameUser.name},t.prototype.leaveStage=function(){},t.prototype.init=function(){this.createRoom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCreateRoomClick,this),this.randomMatch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRandomMatch,this),this.joinRoom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onJoinRoomMatch,this)},t.prototype.onCreateRoomClick=function(){ContextManager.Instance.showUI(UIType.matchBoard)},t.prototype.onRandomMatch=function(){ContextManager.Instance.showUI(UIType.matchBoard)},t.prototype.onJoinRoomMatch=function(){ContextManager.Instance.showUI(UIType.matchBoard)},t}(BaseView);__reflect(uiLobby.prototype,"uiLobby");var uiLogin=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t.addEventListener(egret.Event.LEAVE_STAGE,t.leaveToStage,t),t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.init=function(){this.start.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onStartClick,this)},t.prototype.addToStage=function(){this.addMsResponseListen()},t.prototype.leaveToStage=function(){this.release()},t.prototype.addMsResponseListen=function(){mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_REGISTERUSER_RSP,this.registResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LOGIN_RSP,this.loginResponse,this)},t.prototype.release=function(){mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_REGISTERUSER_RSP,this.registResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LOGIN_RSP,this.loginResponse,this)},t.prototype.onStartClick=function(){mvs.MsEngine.getInstance.registerUser()},t.prototype.registResponse=function(e){var t=e.data;GameData.gameUser.id=t.id,GameData.gameUser.name=t.name,GameData.gameUser.avatar=t.avatar,GameData.gameUser.token=t.token,0==t.status&&mvs.MsEngine.getInstance.login(t.id,t.token,GameData.gameID,GameData.appkey,GameData.secretKey)},t.prototype.loginResponse=function(e){var t=e.data;200==t.status&&ContextManager.Instance.showUI(UIType.lobbyBoard)},t}(BaseView);__reflect(uiLogin.prototype,"uiLogin");var uiMatch=function(e){function t(){var t=e.call(this)||this;return t.gameUserList=[],t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n),this.addToStage()},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.init()},t.prototype.addToStage=function(){var e={name:GameData.gameUser.name,avatar:GameData.gameUser.avatar},t=JSON.stringify(e);mvs.MsEngine.getInstance.joinRandomRoom(GameData.maxPlayerNum,t)},t.prototype.init=function(){this.player1.visible=!1,this.player2.visible=!1,this.player3.visible=!1,this.addMsResponseListen()},t.prototype.addMsResponseListen=function(){mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINROOM_RSP,this.joinRoomResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINROOM_NTFY,this.joinRoomNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINOVER_NTFY,this.joinOverNotify,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_JOINOVER_RSP,this.joinOverResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LEAVEROOM_RSP,this.leaveRoomResponse,this),mvs.MsResponse.getInstance.addEventListener(mvs.MsEvent.EVENT_LEAVEROOM_NTFY,this.leaveRoomNotify,this)},t.prototype.release=function(){mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINROOM_RSP,this.joinRoomResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINROOM_NTFY,this.joinRoomNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINOVER_NTFY,this.joinOverNotify,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_JOINOVER_RSP,this.joinOverResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LEAVEROOM_RSP,this.leaveRoomResponse,this),mvs.MsResponse.getInstance.removeEventListener(mvs.MsEvent.EVENT_LEAVEROOM_NTFY,this.leaveRoomNotify,this)},t.prototype.joinRoomResponse=function(e){var t=e.data,n=t.roomInfo;t.userList;return 200!==t.status?void console.log("joinRoomResponse,status:"+t.status):(GameData.roomID=n.roomID,this.gameUserList=[],this.gameUserList.push(GameData.gameUser),this.gameUserList.length>=GameData.maxPlayerNum&&mvs.MsEngine.getInstance.joinOver("关闭房间"),this.gameUserList.length>0&&(this.player1.visible=!0),this.gameUserList.length>1&&(this.player2.visible=!0),void(this.gameUserList.length>2&&(this.player3.visible=!0)))},t.prototype.joinRoomNotify=function(e){var t=e.data;1==this.gameUserList.length&&(this.player2.visible=!0),2==this.gameUserList.length&&(this.player3.visible=!0),this.gameUserList.push(t)},t.prototype.joinOverNotify=function(e){ContextManager.Instance.showUI(UIType.gameBoard)},t.prototype.joinOverResponse=function(e){ContextManager.Instance.showUI(UIType.gameBoard)},t.prototype.leaveRoomResponse=function(e){ContextManager.Instance.uiBack()},t.prototype.leaveRoomNotify=function(e){},t}(BaseView);__reflect(uiMatch.prototype,"uiMatch");var uiRoomList=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t}(BaseView);__reflect(uiRoomList.prototype,"uiRoomList");var yazi=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.addToStage=function(){this.fly.play()},t}(eui.Component);__reflect(yazi.prototype,"yazi",["eui.UIComponent","egret.DisplayObject"]);var yeNiao=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.partAdded=function(t,n){e.prototype.partAdded.call(this,t,n)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this)},t.prototype.addToStage=function(){this.fly.play()},t}(eui.Component);__reflect(yeNiao.prototype,"yeNiao",["eui.UIComponent","egret.DisplayObject"]);var Main=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(e){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(e){console.log(e)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return[4,this.loadResource()];case 1:return n.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return e=n.sent(),[4,platform.login()];case 3:return n.sent(),[4,platform.getUserInfo()];case 4:return t=n.sent(),console.log(t),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var e,t;return __generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),e=new LoadingUI,this.stage.addChild(e),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return n.sent(),[4,this.loadTheme()];
case 2:return n.sent(),[4,RES.loadGroup("preload",0,e)];case 3:return n.sent(),this.stage.removeChild(e),[3,5];case 4:return t=n.sent(),console.error(t),[3,5];case 5:return[2]}})})},t.prototype.loadTheme=function(){var e=this;return new Promise(function(t,n){var o=new eui.Theme("resource/default.thm.json",e.stage);o.addEventListener(eui.UIEvent.COMPLETE,function(){t()},e)})},t.prototype.createGameScene=function(){mvs.MsEngine.getInstance.init(GameData.CHANNEL,GameData.DEFAULT_ENV,GameData.gameID),ContextManager.Instance.init(this)},t}(eui.UILayer);__reflect(Main.prototype,"Main");var ContextManager=function(){function e(){this.uilist=new Array,this.dialogList=new Array}return Object.defineProperty(e,"Instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this.stage=e,this.showUI(UIType.loginBoard)},e.prototype.showUI=function(e,t){void 0===t&&(t=null),this.uiPush(e,t)},e.prototype.showDialog=function(e,t){void 0===t&&(t=null),null!=this.currentUI&&this.dialogPush(e,this.currentUI,t)},e.prototype.uiBack=function(){null!=this.currentUI&&this.uiPop()},e.prototype.uiBackMain=function(){for(;this.uilist.length>0;){var e=this.uilist.pop();this.stage.contains(e)&&this.stage.removeChild(e)}},e.prototype.backSpecifiedUI=function(e){this.uiBackMain(),this.uiPush(e)},e.prototype.dialogBack=function(){this.dialogPop()},e.prototype.BackSpecifiedDialog=function(e){for(;this.dialogList.length>0;){var t=this.dialogList.pop();this.currentUI.contains(t)&&(t.onPause(),this.currentUI.removeChild(t))}this.showDialog(e)},e.prototype.uiPush=function(e,t){for(void 0===t&&(t=null);this.dialogList.length;){var n=this.dialogList.pop();this.currentUI.contains(n)&&(n.onPause(),this.currentUI.removeChild(n))}if(this.uilist.length>0){var o=this.uilist[this.uilist.length-1];o.onPause(),this.stage.removeChild(o)}var s=UIManager.getInstance().getSingleUI(e);this.stage.addChild(s),this.uilist.push(s),s.onEnter(t),this.currentUI=s},e.prototype.uiPop=function(){if(this.uilist.length>0){var e=this.uilist.pop();this.stage.removeChild(e),e.onExit(),e=this.uilist[this.uilist.length-1],this.stage.addChild(e),e.onResume(),this.currentUI=e}},e.prototype.dialogPush=function(e,t,n){if(this.dialogList.length>0){var o=this.dialogList[this.dialogList.length-1];o.onPause(),t.removeChild(o)}var s=UIManager.getInstance().getSingleUI(e);t.addChild(s),this.dialogList.push(s),s.onEnter(n)},e.prototype.dialogPop=function(){if(this.dialogList.length>0){var e=this.dialogList.pop();this.currentUI.removeChild(e),e.onExit()}if(this.dialogList.length>0){var e=this.dialogList[this.uilist.length-1];this.currentUI.addChild(e),e.onResume()}},e}();__reflect(ContextManager.prototype,"ContextManager");var UIManager=function(){function e(){this.uilist=new Object}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.getSingleUI=function(e){var t,n=this.uilist[e];return null!=n||void 0!=n?t=this.uilist[e]:(t=this.createSingleUI(e),this.uilist[e]=t),t},e.prototype.createSingleUI=function(e){switch(e){case UIType.createRoom:return new uiCreateRoom;case UIType.exit:return new uiExit;case UIType.gameBoard:return new uiGame;case UIType.lobbyBoard:return new uiLobby;case UIType.loginBoard:return new uiLogin;case UIType.matchBoard:return new uiMatch;case UIType.roomList:return new uiRoomList}},e}();__reflect(UIManager.prototype,"UIManager");var UIType;!function(e){e[e.loginBoard=0]="loginBoard",e[e.lobbyBoard=1]="lobbyBoard",e[e.matchBoard=2]="matchBoard",e[e.gameBoard=3]="gameBoard",e[e.roomList=4]="roomList",e[e.exit=5]="exit",e[e.createRoom=6]="createRoom"}(UIType||(UIType={}));var MD5=function(){function e(){this.hexcase=0,this.b64pad=""}return e.prototype.hex_md5=function(e){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.b64_md5=function(e){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(e)))},e.prototype.any_md5=function(e,t){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(e)),t)},e.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.b64_hmac_md5=function(e,t){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)))},e.prototype.any_hmac_md5=function(e,t,n){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t)),n)},e.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},e.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},e.prototype.rstr_hmac_md5=function(e,t){var n=this.rstr2binl(e);n.length>16&&(n=this.binl_md5(n,8*e.length));for(var o=Array(16),s=Array(16),i=0;16>i;i++)o[i]=909522486^n[i],s[i]=1549556828^n[i];var r=this.binl_md5(o.concat(this.rstr2binl(t)),512+8*t.length);return this.binl2rstr(this.binl_md5(s.concat(r),640))},e.prototype.rstr2hex=function(e){try{this.hexcase}catch(t){this.hexcase=0}for(var n,o=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",s="",i=0;i<e.length;i++)n=e.charCodeAt(i),s+=o.charAt(n>>>4&15)+o.charAt(15&n);return s},e.prototype.rstr2b64=function(e){try{this.b64pad}catch(t){this.b64pad=""}for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="",s=e.length,i=0;s>i;i+=3)for(var r=e.charCodeAt(i)<<16|(s>i+1?e.charCodeAt(i+1)<<8:0)|(s>i+2?e.charCodeAt(i+2):0),a=0;4>a;a++)o+=8*i+6*a>8*e.length?this.b64pad:n.charAt(r>>>6*(3-a)&63);return o},e.prototype.rstr2any=function(e,t){var n,o,s,i,r,a=t.length,p=Array(Math.ceil(e.length/2));for(n=0;n<p.length;n++)p[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);var c=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),h=Array(c);for(o=0;c>o;o++){for(r=Array(),i=0,n=0;n<p.length;n++)i=(i<<16)+p[n],s=Math.floor(i/a),i-=s*a,(r.length>0||s>0)&&(r[r.length]=s);h[o]=i,p=r}var u="";for(n=h.length-1;n>=0;n--)u+=t.charAt(h[n]);return u},e.prototype.str2rstr_utf8=function(e){for(var t,n,o="",s=-1;++s<e.length;)t=e.charCodeAt(s),n=s+1<e.length?e.charCodeAt(s+1):0,t>=55296&&56319>=t&&n>=56320&&57343>=n&&(t=65536+((1023&t)<<10)+(1023&n),s++),127>=t?o+=String.fromCharCode(t):2047>=t?o+=String.fromCharCode(192|t>>>6&31,128|63&t):65535>=t?o+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):2097151>=t&&(o+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return o},e.prototype.str2rstr_utf16le=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(255&e.charCodeAt(n),e.charCodeAt(n)>>>8&255);return t},e.prototype.str2rstr_utf16be=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e.charCodeAt(n)>>>8&255,255&e.charCodeAt(n));return t},e.prototype.rstr2binl=function(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(var n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},e.prototype.binl2rstr=function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t},e.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,o=-271733879,s=-1732584194,i=271733878,r=0;r<e.length;r+=16){var a=n,p=o,c=s,h=i;n=this.md5_ff(n,o,s,i,e[r+0],7,-680876936),i=this.md5_ff(i,n,o,s,e[r+1],12,-389564586),s=this.md5_ff(s,i,n,o,e[r+2],17,606105819),o=this.md5_ff(o,s,i,n,e[r+3],22,-1044525330),n=this.md5_ff(n,o,s,i,e[r+4],7,-176418897),i=this.md5_ff(i,n,o,s,e[r+5],12,1200080426),s=this.md5_ff(s,i,n,o,e[r+6],17,-1473231341),o=this.md5_ff(o,s,i,n,e[r+7],22,-45705983),n=this.md5_ff(n,o,s,i,e[r+8],7,1770035416),i=this.md5_ff(i,n,o,s,e[r+9],12,-1958414417),s=this.md5_ff(s,i,n,o,e[r+10],17,-42063),o=this.md5_ff(o,s,i,n,e[r+11],22,-1990404162),n=this.md5_ff(n,o,s,i,e[r+12],7,1804603682),i=this.md5_ff(i,n,o,s,e[r+13],12,-40341101),s=this.md5_ff(s,i,n,o,e[r+14],17,-1502002290),o=this.md5_ff(o,s,i,n,e[r+15],22,1236535329),n=this.md5_gg(n,o,s,i,e[r+1],5,-165796510),i=this.md5_gg(i,n,o,s,e[r+6],9,-1069501632),s=this.md5_gg(s,i,n,o,e[r+11],14,643717713),o=this.md5_gg(o,s,i,n,e[r+0],20,-373897302),n=this.md5_gg(n,o,s,i,e[r+5],5,-701558691),i=this.md5_gg(i,n,o,s,e[r+10],9,38016083),s=this.md5_gg(s,i,n,o,e[r+15],14,-660478335),o=this.md5_gg(o,s,i,n,e[r+4],20,-405537848),n=this.md5_gg(n,o,s,i,e[r+9],5,568446438),i=this.md5_gg(i,n,o,s,e[r+14],9,-1019803690),s=this.md5_gg(s,i,n,o,e[r+3],14,-187363961),o=this.md5_gg(o,s,i,n,e[r+8],20,1163531501),n=this.md5_gg(n,o,s,i,e[r+13],5,-1444681467),i=this.md5_gg(i,n,o,s,e[r+2],9,-51403784),s=this.md5_gg(s,i,n,o,e[r+7],14,1735328473),o=this.md5_gg(o,s,i,n,e[r+12],20,-1926607734),n=this.md5_hh(n,o,s,i,e[r+5],4,-378558),i=this.md5_hh(i,n,o,s,e[r+8],11,-2022574463),s=this.md5_hh(s,i,n,o,e[r+11],16,1839030562),o=this.md5_hh(o,s,i,n,e[r+14],23,-35309556),n=this.md5_hh(n,o,s,i,e[r+1],4,-1530992060),i=this.md5_hh(i,n,o,s,e[r+4],11,1272893353),s=this.md5_hh(s,i,n,o,e[r+7],16,-155497632),o=this.md5_hh(o,s,i,n,e[r+10],23,-1094730640),n=this.md5_hh(n,o,s,i,e[r+13],4,681279174),i=this.md5_hh(i,n,o,s,e[r+0],11,-358537222),s=this.md5_hh(s,i,n,o,e[r+3],16,-722521979),o=this.md5_hh(o,s,i,n,e[r+6],23,76029189),n=this.md5_hh(n,o,s,i,e[r+9],4,-640364487),i=this.md5_hh(i,n,o,s,e[r+12],11,-421815835),s=this.md5_hh(s,i,n,o,e[r+15],16,530742520),o=this.md5_hh(o,s,i,n,e[r+2],23,-995338651),n=this.md5_ii(n,o,s,i,e[r+0],6,-198630844),i=this.md5_ii(i,n,o,s,e[r+7],10,1126891415),s=this.md5_ii(s,i,n,o,e[r+14],15,-1416354905),o=this.md5_ii(o,s,i,n,e[r+5],21,-57434055),n=this.md5_ii(n,o,s,i,e[r+12],6,1700485571),i=this.md5_ii(i,n,o,s,e[r+3],10,-1894986606),s=this.md5_ii(s,i,n,o,e[r+10],15,-1051523),o=this.md5_ii(o,s,i,n,e[r+1],21,-2054922799),n=this.md5_ii(n,o,s,i,e[r+8],6,1873313359),i=this.md5_ii(i,n,o,s,e[r+15],10,-30611744),s=this.md5_ii(s,i,n,o,e[r+6],15,-1560198380),o=this.md5_ii(o,s,i,n,e[r+13],21,1309151649),n=this.md5_ii(n,o,s,i,e[r+4],6,-145523070),i=this.md5_ii(i,n,o,s,e[r+11],10,-1120210379),s=this.md5_ii(s,i,n,o,e[r+2],15,718787259),o=this.md5_ii(o,s,i,n,e[r+9],21,-343485551),n=this.safe_add(n,a),o=this.safe_add(o,p),s=this.safe_add(s,c),i=this.safe_add(i,h)}return[n,o,s,i]},e.prototype.md5_cmn=function(e,t,n,o,s,i){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(t,e),this.safe_add(o,i)),s),n)},e.prototype.md5_ff=function(e,t,n,o,s,i,r){return this.md5_cmn(t&n|~t&o,e,t,s,i,r)},e.prototype.md5_gg=function(e,t,n,o,s,i,r){return this.md5_cmn(t&o|n&~o,e,t,s,i,r)},e.prototype.md5_hh=function(e,t,n,o,s,i,r){return this.md5_cmn(t^n^o,e,t,s,i,r)},e.prototype.md5_ii=function(e,t,n,o,s,i,r){return this.md5_cmn(n^(t|~o),e,t,s,i,r)},e.prototype.safe_add=function(e,t){var n=(65535&e)+(65535&t),o=(e>>16)+(t>>16)+(n>>16);return o<<16|65535&n},e.prototype.bit_rol=function(e,t){return e<<t|e>>>32-t},e}();__reflect(MD5.prototype,"MD5");var Toast=function(e){function t(n,o,s){var i=e.call(this)||this;console.log("Toast:",n);var r=new egret.Bitmap(t._txtrToastBg);i.x=.5*o,i.y=.85*s,i.addChild(r),r.$anchorOffsetX=r.width/2;var a=new egret.TextField;return a.multiline=!0,a.size=30,a.bold=!0,a.textColor=16777215,a.stroke=6,a.strokeColor=0,a.text=n,a.fontFamily="微软雅黑",a.textAlign=egret.HorizontalAlign.CENTER,a.width=1*o,a.x=r.x,a.y=r.y+a.size/10,a.anchorOffsetX=a.width/2,i.addChild(a),r.height=12+a.height,i.alpha=0,egret.Tween.get(i).to({alpha:1},800,egret.Ease.quintOut).wait(1600).to({alpha:0},1200,egret.Ease.quintIn).call(function(){i.parent&&i.parent.removeChild(i)}),i}return __extends(t,e),t.init=function(e,t){console.log("Toast.init",t),this._cont=e,this._txtrToastBg=t},t.initRes=function(e,t){console.log("Toast.init",t),this._cont=e;var n=new egret.ImageLoader;n.addEventListener(egret.Event.COMPLETE,function(e){var t=e.target,n=t.data,o=new egret.Texture;o.bitmapData=n,this._txtrToastBg=o},this),n.load(t)},t.show=function(e){if(this._cont){var n=new t(e,this._cont.stage.stageWidth,this._cont.stage.stageHeight);this._cont.addChild(n)}},t}(egret.DisplayObjectContainer);__reflect(Toast.prototype,"Toast");